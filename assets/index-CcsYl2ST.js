import{m as I,by as V,W as n,ai as u,o as i,b as S,w as N,a as r,D as c,p as b,c as W,t as j,d as T,s as m,F as _,c0 as q,c7 as D,q as U,cS as A}from"./index-B6yCc2m_.js";const G={size:String,minSize:Number,maxSize:Number,space:String,customStyle:Object,customWrapStyle:Object,bodyStyle:Object,allowCollapse:Boolean,collapseStyle:Object,collapse:Boolean,vertical:Boolean,reverse:Boolean,resizable:Boolean,flexTable:Boolean,responsive:{type:Boolean,default:null}},J={"update:collapse":w=>!0},K={class:"ele-split-panel-space"},Z=I({name:"EleSplitPanel",__name:"index",props:G,emits:J,setup(w,{expose:L,emit:M}){const l=w,O=M,P=V(l),v=n(null),X=n(null),k=n(null),t=n(!1),a=n(null),d=n(!1),f=e=>{t.value=typeof e=="boolean"?e:!t.value,O("update:collapse",t.value)},C=()=>{a.value=null},g=e=>{const s=l.vertical?e.clientHeight:e.clientWidth;return l.maxSize?l.maxSize<0?s+l.maxSize:l.maxSize<1?Math.floor(s*l.maxSize):Math.min(l.maxSize,s):s},Y=e=>{var s;const o=(s=v.value)==null?void 0:s.$el,y=k.value;if(!o||!y)return;d.value=!0;const B=e.clientX,E=e.clientY,F=y.clientWidth,H=y.clientHeight,$=!l.minSize||l.minSize<0?0:l.minSize,x=g(o),R=p=>{const z=l.vertical?(l.reverse?E-p.clientY:p.clientY-E)+H:(l.reverse?B-p.clientX:p.clientX-B)+F;a.value=`${z<$?$:z>x?x:z}px`},h=()=>{d.value=!1,document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",h)};return u([()=>l.collapse,()=>l.allowCollapse],()=>{l.allowCollapse?t.value=l.collapse:t.value=!1},{immediate:!0}),u(()=>l.size,()=>{C()}),u(()=>l.minSize,e=>{const s=!e||e<0?0:e;a.value&&Number.parseInt(a.value)<s&&(a.value=s+"px")}),u(()=>l.maxSize,()=>{var e;const s=(e=v.value)==null?void 0:e.$el;if(a.value&&s){const o=g(s);Number.parseInt(a.value)>o&&(a.value=o+"px")}}),L({toggleCollapse:f,resetSize:C}),(e,s)=>(i(),S(A,{ref_key:"rootRef",ref:v,class:U(["ele-split-panel",{"is-reverse":e.reverse},{"is-vertical":e.vertical},{"is-collapse":t.value},{"is-resizing":d.value},{"is-responsive":m(P)},{"is-flex-table":e.flexTable}]),style:c({"--ele-split-size":a.value||e.size,"--ele-split-space":e.space})},{default:N(()=>[r("div",{ref_key:"wrapRef",ref:X,class:"ele-split-panel-wrap",style:c(e.customWrapStyle)},[r("div",{ref_key:"sideRef",ref:k,class:"ele-split-panel-side",style:c(e.customStyle)},[b(e.$slots,"default")],4),r("div",K,[e.resizable?(i(),W("div",{key:0,class:"ele-split-resize-line",onMousedown:Y},null,32)):j("",!0)])],4),r("div",{class:"ele-split-panel-body",style:c(e.bodyStyle)},[b(e.$slots,"body",{collapse:t.value})],4),e.allowCollapse?(i(),W("div",{key:0,style:c(e.collapseStyle),class:"ele-split-collapse-button",onClick:s[0]||(s[0]=o=>f())},[b(e.$slots,"collapse",{collapse:t.value},()=>[T(m(_),{class:"ele-split-collapse-icon"},{default:N(()=>[e.vertical?(i(),S(m(q),{key:0,style:{"margin-top":"-1.25px"}})):(i(),S(m(D),{key:1,style:{"margin-left":"-1.25px"}}))]),_:1})])],4)):j("",!0),r("div",{class:"ele-split-panel-mask",onClick:s[1]||(s[1]=o=>f())})]),_:3},8,["class","style"]))}});export{Z as _};
