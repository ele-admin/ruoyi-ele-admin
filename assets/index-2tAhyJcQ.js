import{_ as P}from"./index-AmtRfZLy.js";import{an as T,_ as V,aN as B,W as y,ad as C,o as G,b as S,w as l,d as t,s as d,bi as A,a as e,x as o,aQ as F,e as M,aO as O,aR as R,aP as Q,F as U,f as q}from"./index-B6yCc2m_.js";import{_ as H,a as K}from"./index-C6QIYa0w.js";import{_ as L,E as X,a as Y}from"./index-6AfRRrL-.js";/* empty css                          */import{_ as Z}from"./index-BJMucfID.js";import{E as ee,a as le}from"./index-BQVafdAu.js";async function te(){const g=await T.get("/monitor/server");return g.data.code===200?g.data.data:Promise.reject(new Error(g.data.msg))}const ae={style:{"text-align":"center"}},ne={style:{"text-align":"center"}},se={style:{"text-align":"center"}},oe={style:{"text-align":"center"}},re={style:{"text-align":"center"}},ie={style:{"text-align":"center"}},de={style:{"text-align":"center"}},ue={style:{"text-align":"center"}},_e={style:{"text-align":"center"}},me={style:{"text-align":"center"}},pe={style:{"text-align":"center"}},ve={style:{"text-align":"center"}},ce={style:{"word-break":"break-all"}},fe={style:{"word-break":"break-all"}},ge={style:{"word-break":"break-all"}},be={style:{"word-break":"break-all"}},ye={style:{"word-break":"break-all"}},xe={style:{"word-break":"break-all"}},he={style:{"word-break":"break-all"}},ke={style:{"word-break":"break-all"}},we=Object.assign({name:"MonitorServer"},{__name:"index",setup(g){const{mobile:x}=B(),s=y({}),z=y([{prop:"dirName",label:"盘符路径",align:"center",minWidth:110},{prop:"sysTypeName",label:"文件系统",align:"center",minWidth:110},{prop:"typeName",label:"盘符类型",align:"center",minWidth:110},{prop:"total",label:"总大小",align:"center",minWidth:110},{prop:"free",label:"可用大小",align:"center",minWidth:110},{prop:"used",label:"已用大小",align:"center",minWidth:110},{prop:"usage",label:"已用百分比",align:"center",minWidth:110}]),i=y(!0);return te().then(b=>{i.value=!1,s.value=b}).catch(b=>{i.value=!1,C.error(b.message)}),(b,n)=>{const u=U,h=H,_=L,m=Z,k=X,w=q,I=Y,r=ee,j=le,D=K,J=P;return G(),S(J,null,{default:l(()=>[t(I,{gutter:16},{default:l(()=>[t(k,{md:12,sm:24,xs:24},{default:l(()=>[t(m,null,{header:l(()=>[t(u,{size:16,style:{"vertical-align":"-2px","margin-right":"8px"}},{default:l(()=>[t(d(A))]),_:1}),n[0]||(n[0]=e("span",null,"CPU",-1))]),default:l(()=>[t(_,{loading:i.value},{default:l(()=>[t(h,null,{default:l(()=>{var a,p,v,c;return[n[5]||(n[5]=e("colgroup",null,[e("col",{width:"120px"}),e("col")],-1)),n[6]||(n[6]=e("thead",null,[e("tr",null,[e("th",null,"属性"),e("th",{style:{"text-align":"center"}},"值")])],-1)),e("tbody",null,[e("tr",null,[n[1]||(n[1]=e("td",null,"核心数",-1)),e("td",ae,o((a=s.value.cpu)==null?void 0:a.cpuNum),1)]),e("tr",null,[n[2]||(n[2]=e("td",null,"用户使用率",-1)),e("td",ne,o((p=s.value.cpu)==null?void 0:p.used)+"%",1)]),e("tr",null,[n[3]||(n[3]=e("td",null,"系统使用率",-1)),e("td",se,o((v=s.value.cpu)==null?void 0:v.sys)+"%",1)]),e("tr",null,[n[4]||(n[4]=e("td",null,"当前空闲率",-1)),e("td",oe,o((c=s.value.cpu)==null?void 0:c.free)+"%",1)])])]}),_:1})]),_:1},8,["loading"])]),_:1})]),_:1}),t(k,{md:12,sm:24,xs:24},{default:l(()=>[t(m,null,{header:l(()=>[t(u,{size:16,style:{"vertical-align":"-2px","margin-right":"8px"}},{default:l(()=>[t(d(F))]),_:1}),n[7]||(n[7]=e("span",null,"内存",-1))]),default:l(()=>[t(_,{loading:i.value},{default:l(()=>[t(h,null,{default:l(()=>{var a,p,v,c,N,$,E,W;return[n[12]||(n[12]=e("colgroup",null,[e("col",{width:"120px"}),e("col"),e("col")],-1)),n[13]||(n[13]=e("thead",null,[e("tr",null,[e("th",null,"属性"),e("th",{style:{"text-align":"center"}},"内存"),e("th",{style:{"text-align":"center"}},"JVM")])],-1)),e("tbody",null,[e("tr",null,[n[8]||(n[8]=e("td",null,"总内存",-1)),e("td",re,o((a=s.value.mem)==null?void 0:a.total)+"G",1),e("td",ie,o((p=s.value.jvm)==null?void 0:p.total)+"M",1)]),e("tr",null,[n[9]||(n[9]=e("td",null,"已用内存",-1)),e("td",de,o((v=s.value.mem)==null?void 0:v.used)+"G",1),e("td",ue,o((c=s.value.jvm)==null?void 0:c.used)+"M",1)]),e("tr",null,[n[10]||(n[10]=e("td",null,"剩余内存",-1)),e("td",_e,o((N=s.value.mem)==null?void 0:N.free)+"G",1),e("td",me,o(($=s.value.jvm)==null?void 0:$.free)+"M",1)]),e("tr",null,[n[11]||(n[11]=e("td",null,"使用率",-1)),e("td",pe,[t(w,{type:((E=s.value.mem)==null?void 0:E.usage)>80?"danger":void 0},{default:l(()=>{var f;return[M(o((f=s.value.mem)==null?void 0:f.usage)+"% ",1)]}),_:1},8,["type"])]),e("td",ve,[t(w,{type:((W=s.value.jvm)==null?void 0:W.usage)>80?"danger":void 0},{default:l(()=>{var f;return[M(o((f=s.value.jvm)==null?void 0:f.usage)+"% ",1)]}),_:1},8,["type"])])])])]}),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),t(m,null,{header:l(()=>[t(u,{size:16,style:{"vertical-align":"-2px","margin-right":"8px"}},{default:l(()=>[t(d(O))]),_:1}),n[14]||(n[14]=e("span",null,"服务器信息",-1))]),default:l(()=>[t(_,{loading:i.value},{default:l(()=>[t(j,{border:!0,column:d(x)?1:2,class:"detail-table"},{default:l(()=>[t(r,{label:"服务器名称"},{default:l(()=>{var a;return[e("div",ce,o((a=s.value.sys)==null?void 0:a.computerName),1)]}),_:1}),t(r,{label:"操作系统"},{default:l(()=>{var a;return[e("div",null,o((a=s.value.sys)==null?void 0:a.osName),1)]}),_:1}),t(r,{label:"服务器IP"},{default:l(()=>{var a;return[e("div",null,o((a=s.value.sys)==null?void 0:a.computerIp),1)]}),_:1}),t(r,{label:"系统架构"},{default:l(()=>{var a;return[e("div",null,o((a=s.value.sys)==null?void 0:a.osArch),1)]}),_:1})]),_:1},8,["column"])]),_:1},8,["loading"])]),_:1}),t(m,null,{header:l(()=>[t(u,{size:16,style:{"vertical-align":"-2px","margin-right":"8px"}},{default:l(()=>[t(d(R))]),_:1}),n[15]||(n[15]=e("span",null,"Java虚拟机信息",-1))]),default:l(()=>[t(_,{loading:i.value},{default:l(()=>[t(j,{border:!0,column:d(x)?1:2,class:"detail-table"},{default:l(()=>[t(r,{label:"Java名称"},{default:l(()=>{var a;return[e("div",fe,o((a=s.value.jvm)==null?void 0:a.name),1)]}),_:1}),t(r,{label:"Java版本"},{default:l(()=>{var a;return[e("div",ge,o((a=s.value.jvm)==null?void 0:a.version),1)]}),_:1}),t(r,{label:"启动时间"},{default:l(()=>{var a;return[e("div",be,o((a=s.value.jvm)==null?void 0:a.startTime),1)]}),_:1}),t(r,{label:"运行时长"},{default:l(()=>{var a;return[e("div",ye,o((a=s.value.jvm)==null?void 0:a.runTime),1)]}),_:1}),t(r,{label:"安装路径",span:2},{default:l(()=>{var a;return[e("div",xe,o((a=s.value.jvm)==null?void 0:a.home),1)]}),_:1}),t(r,{label:"项目路径",span:2},{default:l(()=>{var a;return[e("div",he,o((a=s.value.sys)==null?void 0:a.userDir),1)]}),_:1}),t(r,{label:"运行参数",span:2},{default:l(()=>{var a;return[e("div",ke,o((a=s.value.jvm)==null?void 0:a.inputArgs),1)]}),_:1})]),_:1},8,["column"])]),_:1},8,["loading"])]),_:1}),t(m,null,{header:l(()=>[t(u,{size:16,style:{"vertical-align":"-3px","margin-right":"8px"}},{default:l(()=>[t(d(Q))]),_:1}),n[16]||(n[16]=e("span",null,"磁盘状态",-1))]),default:l(()=>[t(_,{loading:i.value},{default:l(()=>[t(D,{"row-key":"dirName",columns:z.value,datasource:s.value.sysFiles||[],"show-overflow-tooltip":!0,pagination:!1,toolbar:!1},null,8,["columns","datasource"])]),_:1},8,["loading"])]),_:1})]),_:1})}}}),Ie=V(we,[["__scopeId","data-v-36e12895"]]);export{Ie as default};
