import{m as Q,W as u,ai as X,o as s,b as z,w as k,a as H,D as g,c as p,$ as A,a0 as M,q as N,p as B,d as w,s as d,ag as se,al as U,t as $,aT as ie,a6 as re,aj as ce,by as ue,n as L,bz as J,x as K,ay as pe,bR as de,bA as ve,bB as me,co as fe,ck as ye,cp as he,v as be,F as ge}from"./index-B6yCc2m_.js";import{_ as Se}from"./index-C-mkH4ob.js";const Ce=["title","onClick","onMouseover"],Ve={key:0,class:"ele-icon-select-empty"},ke=Q({name:"IconGrid",__name:"icon-grid",props:{icon:String,data:{type:Array,required:!0},emptyProps:Object,tooltip:Boolean,tooltipProps:Object,popperVisible:Boolean,gridStyle:Object,itemStyle:Object},emits:{select:l=>!0},setup(l,{expose:O,emit:P}){const t=l,v=P,S=u(!1),j=u(""),m=u(),f=a=>{S.value=a},r=()=>{f(!1)},c=(a,b)=>{t.tooltip&&t.popperVisible&&a&&(m.value=b.currentTarget,j.value=a,S.value=!0)},y=a=>{v("select",a)};return X(()=>t.popperVisible,a=>{a||r()}),O({hideTooltip:r}),(a,b)=>(s(),z(d(re),{class:"ele-icon-select-body"},{default:k(()=>[H("div",{class:"ele-icon-select-grid",style:g(l.gridStyle)},[(s(!0),p(A,null,M(l.data,(i,E)=>(s(),p("div",{key:E+"-"+i,class:N(["ele-icon-select-item",{"is-active":l.icon&&i===l.icon}]),title:l.tooltip?void 0:i,style:g(l.itemStyle),onClick:I=>y(i),onMouseover:I=>c(i,I)},[B(a.$slots,"icon",{icon:i,prefix:!1})],46,Ce))),128))],4),!l.data||!l.data.length?(s(),p("div",Ve,[w(d(se),U({imageSize:60},l.emptyProps||{}),null,16)])):$("",!0),w(ie,U({placement:"top",offset:6,teleported:!1},l.tooltipProps||{},{visible:S.value,content:j.value,virtualRef:m.value,virtualTriggering:!0,"onUpdate:visible":f}),null,16,["visible","content","virtualRef"])]),_:3}))}}),Y={modelValue:String,data:Array,disabled:Boolean,size:String,clearable:Boolean,placeholder:String,automaticDropdown:Boolean,filterable:[Boolean,String],teleported:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},transition:{type:String,default:"el-zoom-in-top"},popperOptions:Object,popperClass:String,popperWidth:{type:[Number,String],default:414},popperHeight:{type:[Number,String],default:260},selectStyle:Object,inputStyle:Object,selectTagsStyle:Object,hideOnSingleTab:Boolean,emptyProps:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,headerStyle:Object,tabsStyle:Object,searchStyle:Object,menusStyle:Object,bodyStyle:Object,gridStyle:Object,itemStyle:Object,filterPlaceholder:{type:String,default:""},responsive:{type:Boolean,default:null}},W={"update:modelValue":l=>!0,change:l=>!0,visibleChange:l=>!0,clear:()=>!0,focus:l=>!0,blur:l=>!0},Oe=["onClick"],Pe={class:"ele-icon-select-main"},je=["onClick"],Be=Q({name:"EleIconSelect",__name:"index",props:Y,emits:W,setup(l,{expose:O,emit:P}){const t=l,v=P,{validateChange:S}=ce(),j=ue(t),m=u(null),f=u(!1),r=u([]),c=u(),y=u([]),a=u(),b=u([]),i=u(""),E=L(()=>!(!r.value||!r.value.length||t.hideOnSingleTab&&r.value.length===1)),I=L(()=>{const e=["ele-icon-select-popper"];return j.value&&e.push("is-responsive"),t.popperClass&&e.push(t.popperClass),e.join(" ")}),Z=L(()=>{if(t.popperHeight)return{height:typeof t.popperHeight=="number"?`${t.popperHeight}px`:t.popperHeight}}),_=()=>{m.value&&m.value.updatePopper()},C=()=>{if(t.data==null||!t.data.length||typeof t.data[0]=="string"){r.value=[],y.value=[],c.value=void 0,a.value=void 0,b.value=D(t.data);return}r.value=t.data.map(h=>h.title),(c.value==null||c.value>=r.value.length)&&(c.value=0);const e=t.data[c.value];if(typeof e!="string"&&e.children!=null&&e.children.length){y.value=e.children.map(h=>h.title),(a.value==null||a.value>=y.value.length)&&(a.value=0),b.value=D(e.children[a.value].icons);return}y.value=[],a.value=void 0,b.value=typeof e!="string"?D(e.icons):[]},D=e=>{if(!e)return[];if(!i.value)return e;const h=i.value.toLowerCase();return e.filter(o=>o.toLowerCase().includes(h))},R=e=>{e&&F(""),f.value!==e&&(f.value=e,v("visibleChange",e))},q=e=>{fe(e,t.modelValue)&&(v("update:modelValue",e),S(),v("change",e))},x=()=>{q(null),R(!1),v("clear")},ee=e=>{v("focus",e)},te=e=>{v("blur",e)},F=e=>{var h;if(i.value!==e&&(i.value=e),C(),!(!((h=t.data)!=null&&h.length)||b.value.length))for(let o=0;o<t.data.length;o++){const n=t.data[o];if(typeof n=="string")return;const T=i.value.toLowerCase();if(n.children!=null&&n.children.length)for(let V=0;V<n.children.length;V++){const G=n.children[V].icons;if(G&&G.some(ne=>ne.toLowerCase().includes(T))){a.value=V,c.value=o,C();return}}else if(n.icons!=null&&n.icons.some(V=>V.toLowerCase().includes(T))){c.value=o,C();return}}},le=e=>{c.value=e,C()},ae=e=>{a.value=e,C()},oe=e=>{q(e),R(!1)};return X(()=>t.data,()=>{C()},{immediate:!0,deep:!0}),O({selectRef:m,updatePopover:_}),(e,h)=>(s(),z(Se,{ref_key:"selectRef",ref:m,value:e.modelValue,multiple:!1,disabled:e.disabled,size:e.size,clearable:e.clearable,placeholder:e.placeholder,automaticDropdown:e.automaticDropdown,filterable:typeof e.filterable=="boolean"?e.filterable:!1,teleported:e.teleported,persistent:e.persistent,placement:e.placement,transition:e.transition,popperWidth:e.popperWidth,popperOptions:e.popperOptions,popperClass:I.value,selectClass:"is-icon-select",selectStyle:e.selectStyle,inputStyle:e.inputStyle,selectTagsStyle:e.selectTagsStyle,selectedLabel:e.modelValue,visible:f.value,"onUpdate:visible":R,onFilterChange:F,onClear:x,onFocus:ee,onBlur:te},J({default:k(()=>[H("div",{class:"ele-icon-select",style:g(Z.value)},[E.value||e.filterable==="popper"?(s(),p("div",{key:0,class:"ele-icon-select-header",style:g(e.headerStyle)},[B(e.$slots,"tabLeftExtra"),E.value?(s(),p("div",{key:0,class:"ele-icon-select-tabs",style:g(e.tabsStyle)},[(s(!0),p(A,null,M(r.value,(o,n)=>(s(),p("div",{key:n+"-"+o,class:N(["ele-icon-select-tab",{"is-active":n===c.value}]),onClick:T=>le(n)},K(o),11,Oe))),128))],4)):$("",!0),e.filterable==="popper"?(s(),p("div",{key:1,class:"ele-icon-select-search",style:g(e.searchStyle)},[w(d(pe),{size:"small",clearable:!0,modelValue:i.value,validateEvent:!1,prefixIcon:d(de),placeholder:e.filterPlaceholder,"onUpdate:modelValue":F},null,8,["modelValue","prefixIcon","placeholder"])],4)):$("",!0),B(e.$slots,"tabRightExtra")],4)):$("",!0),H("div",Pe,[y.value&&y.value.length?(s(),p("div",{key:0,class:"ele-icon-select-menus",style:g(e.menusStyle)},[(s(!0),p(A,null,M(y.value,(o,n)=>(s(),p("div",{key:n+"-"+o,class:N(["ele-icon-select-menu",{"is-active":n===a.value}]),onClick:T=>ae(n)},K(o),11,je))),128))],4)):$("",!0),w(ke,{data:b.value,icon:e.modelValue,emptyProps:e.emptyProps,tooltip:e.tooltip,tooltipProps:e.tooltipProps,popperVisible:f.value,gridStyle:e.gridStyle,itemStyle:e.itemStyle,style:g(e.bodyStyle),onSelect:oe},J({_:2},[e.$slots.icon?{name:"icon",fn:k(o=>[B(e.$slots,"icon",ve(me(o||{})))]),key:"0"}:void 0]),1032,["data","icon","emptyProps","tooltip","tooltipProps","popperVisible","gridStyle","itemStyle","style"])])],4)]),_:2},[e.modelValue&&e.$slots.icon?{name:"prefix",fn:k(()=>[B(e.$slots,"icon",{icon:e.modelValue,prefix:!0})]),key:"0"}:void 0]),1032,["value","disabled","size","clearable","placeholder","automaticDropdown","filterable","teleported","persistent","placement","transition","popperWidth","popperOptions","popperClass","selectStyle","inputStyle","selectTagsStyle","selectedLabel","visible"]))}}),Ee=Object.assign({name:"IconSelect"},{__name:"index",props:Y,emits:W,setup(l,{emit:O}){const P=O,{emitMethods:t}=ye(W,P),v=he();return(S,j)=>{const m=ge,f=Be;return s(),z(f,U(S.$props,{data:d(v),"onUpdate:modelValue":d(t)["update:modelValue"],onChange:d(t).change,onVisibleChange:d(t).visibleChange,onClear:d(t).clear,onFocus:d(t).focus,onBlur:d(t).blur}),{icon:k(({icon:r})=>[w(m,null,{default:k(()=>[(s(),z(be(r)))]),_:2},1024)]),_:1},16,["data","onUpdate:modelValue","onChange","onVisibleChange","onClear","onFocus","onBlur"])}}});export{Ee as _};
