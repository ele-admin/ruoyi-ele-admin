import{an as r,a$ as p,aW as u,W as m,ai as f,o as g,b as y,bI as w,ad as h}from"./index-B6yCc2m_.js";import"./tree-CopuO4KQ.js";import{E as v}from"./tree-select-BVEOGY61.js";const b=/^1\d{10}$/,x=/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;async function E(a){const e=await r.get("/system/dept/list",{params:a});return e.data.code===200&&e.data.data?e.data.data:Promise.reject(new Error(e.data.msg))}async function z(a){const e=await r.post("/system/dept",a);return e.data.code===200?e.data.msg:Promise.reject(new Error(e.data.msg))}async function I(a){const e=await r.put("/system/dept",a);return e.data.code===200?e.data.msg:Promise.reject(new Error(e.data.msg))}async function j(a){const e=await r.delete("/system/dept/"+a);return e.data.code===200?e.data.msg:Promise.reject(new Error(e.data.msg))}const k={__name:"dept-select",props:p({placeholder:{type:String,default:"请选择归属部门"},organizationData:Array},{modelValue:{type:[Number,String]},modelModifiers:{}}),emits:["update:modelValue"],setup(a,{expose:e}){const o=a,d=u(a,"modelValue"),s=m([]);f(()=>o.organizationData,t=>{t!=null&&(s.value=t)},{immediate:!0,deep:!0});const l=()=>{o.organizationData==null&&E().then(t=>{s.value=w({data:t,idField:"deptId",parentIdField:"parentId"})}).catch(t=>{h.error(t.message)})};return l(),e({reload:l}),(t,n)=>{const c=v;return g(),y(c,{clearable:"","check-strictly":"","default-expand-all":"",data:s.value,"node-key":"deptId",props:{label:"deptName"},modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=i=>d.value=i),placeholder:a.placeholder,class:"ele-fluid","popper-options":{strategy:"fixed"}},null,8,["data","modelValue","placeholder"])}}};export{k as _,z as a,x as e,E as l,b as p,j as r,I as u};
